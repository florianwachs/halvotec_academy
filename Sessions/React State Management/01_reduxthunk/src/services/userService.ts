import { IUser } from "../models/user";

const data = `{"results":[{"gender":"female","name":{"title":"Ms","first":"Luna","last":"Muller"},"location":{"street":{"number":7543,"name":"Rue Barrier"},"city":"Boulogne-Billancourt","state":"Corse-du-Sud","country":"France","postcode":66225,"coordinates":{"latitude":"-1.6259","longitude":"161.9892"},"timezone":{"offset":"0:00","description":"Western Europe Time, London, Lisbon, Casablanca"}},"email":"luna.muller@example.com","login":{"uuid":"abc7c623-9b3f-4b36-b8c3-295d3337c0ac","username":"bluecat641","password":"rockon","salt":"Qp9TmznI","md5":"604ab06a442a63107e5b7a3286e70af2","sha1":"7b7ece12bbdb67fe2288a3048fa246cf6290e97d","sha256":"54e8bd47c3af267f3b35290662b75420a323a363660adf79c18df513e540079b"},"dob":{"date":"1964-05-02T21:06:27.854Z","age":56},"registered":{"date":"2017-02-25T03:36:41.055Z","age":3},"phone":"02-14-70-67-33","cell":"06-46-57-35-75","id":{"name":"INSEE","value":"2NNaN59164971 22"},"picture":{"large":"https://randomuser.me/api/portraits/women/20.jpg","medium":"https://randomuser.me/api/portraits/med/women/20.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/women/20.jpg"},"nat":"FR"},{"gender":"male","name":{"title":"Mr","first":"Kirk","last":"Nichols"},"location":{"street":{"number":1329,"name":"London Road"},"city":"Stoke-on-Trent","state":"Nottinghamshire","country":"United Kingdom","postcode":"W76 2TB","coordinates":{"latitude":"-28.3433","longitude":"-56.3904"},"timezone":{"offset":"0:00","description":"Western Europe Time, London, Lisbon, Casablanca"}},"email":"kirk.nichols@example.com","login":{"uuid":"798b59c9-8f3a-47fb-9359-09a725dbd711","username":"blackkoala779","password":"zanzibar","salt":"DegYv45o","md5":"3bea0625e1197e9059840e5b1f096833","sha1":"e6362a5521567e2de749de5283194a781eaa7194","sha256":"e7123436c0f1932e42a8d447f05f7e6f34c9caba24da161d2043937b519b4cf1"},"dob":{"date":"1979-12-31T03:55:24.942Z","age":41},"registered":{"date":"2018-05-22T15:37:51.833Z","age":2},"phone":"015395 01634","cell":"0707-400-191","id":{"name":"NINO","value":"EZ 34 15 16 U"},"picture":{"large":"https://randomuser.me/api/portraits/men/36.jpg","medium":"https://randomuser.me/api/portraits/med/men/36.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/men/36.jpg"},"nat":"GB"},{"gender":"male","name":{"title":"Mr","first":"Jacob","last":"Gran"},"location":{"street":{"number":4728,"name":"Slireveien"},"city":"Sessvollmoen","state":"Vestfold","country":"Norway","postcode":"1784","coordinates":{"latitude":"56.8417","longitude":"-53.3945"},"timezone":{"offset":"-1:00","description":"Azores, Cape Verde Islands"}},"email":"jacob.gran@example.com","login":{"uuid":"ee3f27ca-e536-449c-9b8b-181f6fd2324c","username":"redzebra930","password":"granada","salt":"tSWwJ5vT","md5":"aaa32966920182020f1f002ca0ed77b8","sha1":"dba82938f913e419ac3cb171b9c7b0009f53984f","sha256":"b67102ab7d69652189a69807bc185dc7894b81307e3febbbb0c0d0a0b83f3134"},"dob":{"date":"1968-10-25T11:34:47.069Z","age":52},"registered":{"date":"2005-10-30T02:54:05.048Z","age":15},"phone":"88427129","cell":"43641889","id":{"name":"FN","value":"25106817386"},"picture":{"large":"https://randomuser.me/api/portraits/men/47.jpg","medium":"https://randomuser.me/api/portraits/med/men/47.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/men/47.jpg"},"nat":"NO"},{"gender":"male","name":{"title":"Mr","first":"Nicolas","last":"Herrero"},"location":{"street":{"number":2013,"name":"Calle de Segovia"},"city":"Granada","state":"Melilla","country":"Spain","postcode":96164,"coordinates":{"latitude":"-31.9243","longitude":"-176.3517"},"timezone":{"offset":"+5:00","description":"Ekaterinburg, Islamabad, Karachi, Tashkent"}},"email":"nicolas.herrero@example.com","login":{"uuid":"57f1da41-e9d5-42da-8ca8-f03b049dd029","username":"blackkoala578","password":"halifax","salt":"Ei6Nvxmx","md5":"52eb5eafb8d3800fd90e6803a37f3251","sha1":"c39168b784b3ddf4a8e478e14b08eab902d691ca","sha256":"00c4940def18023674076f77d7f671464ea99e8b2683fb695f8556d424088b80"},"dob":{"date":"1970-04-03T06:09:34.004Z","age":50},"registered":{"date":"2012-10-27T03:35:06.797Z","age":8},"phone":"932-086-032","cell":"604-042-879","id":{"name":"DNI","value":"12463120-P"},"picture":{"large":"https://randomuser.me/api/portraits/men/48.jpg","medium":"https://randomuser.me/api/portraits/med/men/48.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/men/48.jpg"},"nat":"ES"},{"gender":"male","name":{"title":"Mr","first":"Denis","last":"Tornes"},"location":{"street":{"number":5546,"name":"Seterbråtveien"},"city":"Brønnøysund","state":"Nord-Trøndelag","country":"Norway","postcode":"7442","coordinates":{"latitude":"-32.3988","longitude":"-3.7590"},"timezone":{"offset":"-11:00","description":"Midway Island, Samoa"}},"email":"denis.tornes@example.com","login":{"uuid":"7b90bad5-9f4a-4e08-820c-b89dfb0c3e81","username":"redpeacock493","password":"password1","salt":"3BkpHb00","md5":"6dbf2f32f760e73a38a8472566f3d40e","sha1":"10a201a25d1860b088b8d8d0b7c2b431878df9b6","sha256":"ba6c0ae8e69156142fd27be291b15b2ca0c66629e789e126233704dcd364d7b8"},"dob":{"date":"1974-07-30T15:16:38.571Z","age":46},"registered":{"date":"2004-07-19T19:48:27.935Z","age":16},"phone":"73287150","cell":"43590838","id":{"name":"FN","value":"30077409528"},"picture":{"large":"https://randomuser.me/api/portraits/men/91.jpg","medium":"https://randomuser.me/api/portraits/med/men/91.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/men/91.jpg"},"nat":"NO"}],"info":{"seed":"768f75d0904c10e2","results":5,"page":1,"version":"1.3"}}`;
const waitDelayInMs = 2000;

async function getUsers(): Promise<IUser[]> {
  // simulate API call
  await delay(waitDelayInMs);
  return parseUsers();
}

function parseUsers() {
  return JSON.parse(data).results as IUser[];
}

function delay(delayinMs: number) {
  return new Promise(resolve => setTimeout(resolve, delayinMs));
}

export { getUsers };
